
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>fpgagen 联合开发网 - pudn.com</title>

    <link href="/Public/m/css/bootstrap.min.css" rel="stylesheet">
    <link href="/Public/m/font-awesome/css/font-awesome.css" rel="stylesheet">

    <link href="/Public/m/css/animate.css" rel="stylesheet">
    <link href="/Public/m/css/style.css" rel="stylesheet">

	<link href="/Public/m/css/plugins/slick/slick.css" rel="stylesheet">
	<link href="/Public/m/css/plugins/slick/slick-theme.css" rel="stylesheet">

	

	<link href="/css/style.css" rel="stylesheet">

	<!-- Mainly scripts -->
	<script src="/Public/m/js/jquery-2.1.1.js"></script>
	<script src="/Public/m/js/bootstrap.min.js"></script>

	<script src="/Public/m/js/plugins/metisMenu/jquery.metisMenu.js"></script>
	<script src="/Public/m/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

	<!-- Custom and plugin javascript -->
	<script src="/Public/m/js/inspinia.js"></script>
	<script src="/Public/m/js/plugins/pace/pace.min.js"></script>
	
<META name="Keywords" content="fpgagen 程序员 编程 源码 源代码 下载">

	
<META name="Description" content="fpgagen SEGA Genesis Megadrive核心，在Altera Terasic DE1板上运行。">

</head>

<body>

<!-- /.main-container start -->

<div class="pace  pace-inactive">
  	<div class="pace-progress" data-progress-text="100%" data-progress="99" style="transform: translate3d(100%, 0px, 0px);">
  	<div class="pace-progress-inner"></div>
	</div>
	<div class="pace-activity"></div>
</div>

<div class="all-content">
	<div class="my-container top-navigation">
		<nav class="navbar navbar-static-top" role="navigation">
			<div class="navbar-header">
				<button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
					<i class="fa fa-reorder"></i>
				</button>
				<a href="http://www.pudn.com" class="navbar-brand">联合开发网</a>
			</div>
			<div class="navbar-collapse collapse" id="navbar">
				<ul class="nav navbar-nav">
					<li>
						<a href="/" style="padding-right:8px;padding-left:8px;font-size:16px">首页</a>
					</li>
					<li>
						<a href="https://search.pudn.com" style="padding-right:8px;padding-left:8px;font-size:16px">搜索</a>
					</li>
				</ul>
               	<ul class="nav navbar-top-links navbar-right">
               							<li>
                       	<a href="/User/login.html">
                           	&nbsp; <i class="fa fa-sign-out"></i>登录
                       	</a>
                   	</li>
                   	<li>
                       	<a href="/User/reg.html"><i class="fa fa-sign-out"></i>注册
                       	</a>
                   	</li>
					               	</ul>
			</div>
		</nav>
	</div>
	<form action="https://search.pudn.com/Download" method="get">
	<div class="top-menu-line2">
		<div class="my-container">
			<a href=/Download/upload.html>上传</a>
			&nbsp; <a href=/User>管理</a>
			&nbsp; <a href=https://search.pudn.com/Download>搜索</a>
			&nbsp; <a href=/Guestbook>留言</a>
			<div class="input-group pull-right" style="max-width:200px;margin:3px 15px 0px 0px">
				<input type="text" name="keyword" maxlength=20 placeholder="请输入关键字" class="form-control input-sm">
				<span class="input-group-btn"> <button type="submit" class="btn btn-white input-sm" style="border:1px solid #AAA"><i class="fa fa-search"></i></button>
				</span>
			</div>
		</div>
	</div></form>



<div class="row wrapper white-bg">
	<div class="my-container">
			<div class="nav-dir" style="padding:10px 0px">
				<a href="/">Pudn.com</a>&nbsp;&gt;&nbsp;下载中心
				&nbsp;&gt;&nbsp;VHDL/FPGA/Verilog				&nbsp;&gt;&nbsp;<font color=red>fpgagen</font>
			</div>


		<div class="row">
			<div class="col-xs-12 col-md-8">
				<div class="item-name">fpgagen</div>
				<div class="item-keyword">
									</div>
				<div class="item-action">
					<div class="btn-group">
						<a href=/Download/dl/id/1570441689900514 target=_blank class="btn btn-primary btn-sm"><i class="fa fa-download"></i> 下载(<span id="down-count">0</span>)</a>
						<a href="###" class="btn btn-white btn-sm vote-up"><i class="fa fa-thumbs-up"></i> 赞(<span id="vote-up-count">55</span>) </a>
						<a href="###" class="btn btn-white btn-sm vote-down"><i class="fa fa-thumbs-down"></i> 踩(<span id="vote-down-count">0</span>) </a>
						<a href="/Download/comment/id/1570441689900514" data-toggle="modal" data-target="#myModal" class="btn btn-white btn-sm"><i class="fa fa-comment"></i> 评论(<span id="comment-count">0</span>) </a>
						<a href="###" class="btn btn-white btn-sm favor-item"><i class="fa fa-heart"></i> 收藏(<span id="favor-count">0</span>) </a>
					</div>
				</div>
				<hr>

				<div class="item-info">
					<B>所属分类</B>：VHDL/FPGA/Verilog<BR>
					<B>开发工具</B>：VHDL<BR>
					<B>文件大小</B>：349KB<BR>
					<B>下载次数</B>：0<BR>
					<B>上传日期</B>：2019-10-07 17:48:09<BR>
					<B>上 传 者</B>：<a href=/User/profile/id/1682139907912860.html>sh-1993</a><BR>
				</div>
				<div class="item-intro">
					说明：&nbsp;&nbsp;SEGA Genesis Megadrive核心，在Altera Terasic DE1板上运行。<BR>(SEGA Genesis Megadrive core, running on a Altera Terasic DE1 board.)				</div>
				<hr>
				<div><B>文件列表</B>: </div>
				<div id="file-list">
				Board (0, 2019-10-08)<BR>Board\chameleon64 (0, 2019-10-08)<BR>Board\chameleon64\chameleon_1khz.<B>vhd</B> (2240, 2019-10-08)<BR>Board\chameleon64\chameleon_1mhz.<B>vhd</B> (2448, 2019-10-08)<BR>Board\chameleon64\chameleon_autofire.<B>vhd</B> (1485, 2019-10-08)<BR>Board\chameleon64\chameleon_buttons.<B>vhd</B> (6260, 2019-10-08)<BR>Board\chameleon64\chameleon_c64_joykeyb.<B>vhd</B> (8010, 2019-10-08)<BR>Board\chameleon64\chameleon_cdtv_remote.<B>vhd</B> (9239, 2019-10-08)<BR>Board\chameleon64\chameleon_docking_station.<B>vhd</B> (7165, 2019-10-08)<BR>Board\chameleon64\chameleon_io.<B>vhd</B> (29904, 2019-10-08)<BR>Board\chameleon64\chameleon_led.<B>vhd</B> (1849, 2019-10-08)<BR>Board\chameleon64\chameleon_phi_clock_a.<B>vhd</B> (5081, 2019-10-08)<BR>Board\chameleon64\chameleon_phi_clock_e.<B>vhd</B> (1819, 2019-10-08)<BR>Board\chameleon64\chameleon_toplevel.<B>vhd</B> (10367, 2019-10-08)<BR>Board\chameleon64\gen_reset.<B>vhd</B> (2920, 2019-10-08)<BR>Board\chameleon64\pll.<B>bsf</B> (4226, 2019-10-08)<BR>Board\chameleon64\pll.<B>cmp</B> (981, 2019-10-08)<BR>Board\chameleon64\pll.<B>ppf</B> (612, 2019-10-08)<BR>Board\chameleon64\pll.<B>qip</B> (425, 2019-10-08)<BR>Board\chameleon64\pll.<B>vhd</B> (19525, 2019-10-08)<BR>Board\chameleon64\pll_sim.<B>vhd</B> (548, 2019-10-08)<BR>Board\de1 (0, 2019-10-08)<BR>Board\de1\DE1_Toplevel.<B>vhd</B> (7572, 2019-10-08)<BR>Board\de1\DE1_Toplevel_tb.<B>vhd</B> (4911, 2019-10-08)<BR>Board\de1\I2C_AV_Config.<B>v</B> (4015, 2019-10-08)<BR>Board\de1\I2C_Controller.<B>v</B> (2703, 2019-10-08)<BR>Board\de1\SEG7_LUT.<B>v</B> (677, 2019-10-08)<BR>Board\de1\SEG7_LUT_4.<B>v</B> (986, 2019-10-08)<BR>Board\de1\audio_shifter.<B>v</B> (885, 2019-10-08)<BR>Board\de1\audio_top.<B>v</B> (1388, 2019-10-08)<BR>Board\de1\de1.<B>sdc</B> (6123, 2019-10-08)<BR>Board\de1\pll.<B>bsf</B> (3882, 2019-10-08)<BR>Board\de1\pll.<B>cmp</B> (982, 2019-10-08)<BR>Board\de1\pll.<B>ppf</B> (482, 2019-10-08)<BR>Board\de1\pll.<B>qip</B> (263, 2019-10-08)<BR>Board\de1\pll.<B>vhd</B> (17551, 2019-10-08)<BR>Board\de2 (0, 2019-10-08)<BR>... ...<BR>				</div>
				<hr>
				<div id="readme">
				This is a port of fpgagen - Genesis/Megadrive core to additional platform(s)
MiST, Turbo Chameleon ***, Altera/Terasic DE2 board

The core shall be considered a work in progress as there are multiple issues:
1. Sprite flickering on heavy scenes, or on large sprites
2. No LFO modulation of the FM sound
3. Rom file formats supported are .bin and .gen, no support for .smd files
4. The design does not fit on the Altera/Terasic DE1 board anymore

==== Installing the core ====
If you are not buidling the core, copy the following files to the root of your sdcard:
fpgagen.rbf
Configs/VGA/FPGAGEN.CFG

Then rename the file fpgagen.rbf to core.rbf

==== Building and installing the core ====
The project depends on submodules, so you need to type in the following commands after checkout.

cd fpgagen
git submodule init
git submodule update

Then load the Quartus II project file, and build:
fpgagen/syn/mist/fpgagen.qpf

When you have built the core, copy the following files to the root of your sdcard:
fpgagen/syn/mist/fpgagen.rbf
fpgagen/Configs/VGA/FPGAGEN.CFG, or fpgagen/Configs/TV/FPGAGEN.CFG (for 15 kHz video)

Then rename the file fpgagen.rbf to core.rbf

================================================================================
fpgagen - a SEGA Megadrive/Genesis clone in a FPGA.
Copyright (c) 2010-2013 Gregory Estrade (greg@torlus.com)
All rights reserved

fpgagen is an attempt to clone the SEGA Megadrive/Genesis console in a FPGA.
It is currently advanced enough to run many games.

================================================================================
In order to run this project you will need :
- A Terasic/Altera DE1 board.
- A VGA monitor.
- DE1 CD-ROM contents. (http://www.terasic.com/downloads/cd-rom/de1/)
- Altera Quartus II 9.1 Web Edition.
- (optional) ModelSim-Altera 6.5b Starter Edition.

First, the FPGA EEPROM should be programmed with the demonstration design
"DE1_USB_API.sof". It should be the case if you've never re-programmed it.
That will allow you to use the "DE1 Control Panel" software.

Power on your DE1 board, make it sure it is connected thru USB to your computer.
Run the "DE1_Control_Panel.exe" program.
Click on "Open", select "Open USB Port 0".
Select the "FLASH" tab, and click on "Chip Erase".
Check "File Length", then click on "Write a File to FLASH".
Choose a Genesis ROM (.bin or .gen file formats are supported, .smd files need 
to be converted to .bin, with SMD2BIN for instance).
Once the write operation is done, close the "DE1 Control Panel".

If you downloaded the programming file, run the Quartus Programmer
("quartus_pgmw.exe" located in "<altera root directory>\91\quartus\bin").
Select the "gen_top.cdf" file, click on "Start", and you're done!

If you want to build the project from its source, open the Quartus II software 
and select the "gen_top.qpf" project.

Notes : 
- Be sure to always perform a "Chip Erase" before programming a new ROM.
- I don't know if it's due to my own setup, but I've found that the flash write
  operation is not very reliable, as I often get a byte off when I try to read
  back the flash. For some games it doesn't matter (if you're lucky enough, and
  that the write error occurs in a data section, and not a code section).
  Some games however perform a self-consistency check, and won't run at all.
  Only workaround so far : erase and re-program the flash until it succeeds.

A 3-button pad is mapped to the board's switches and buttons.
Here is a description of the controls :
- KEY0 : Start
- KEY1 : C
- KEY2 : B
- KEY3 : A
- SW9 : Up
- SW8 : Down
- SW7 : Left
- SW6 : Right
SW0 performs a Hard-Reset operation.

================================================================================
What this project currently provides :
- 68000 code execution, using the TG68 core, written by Tobias Gubener.
- Z80 code execution, using the T80 core, written by Daniel Wallner.
- Video Display Processor core with integrated scandoubler for VGA output.
- Genesis "glue logic".

What it lacks :
- Any kind of sound support.
  The only part of the soundchips I've written is the timer logic of the FM chip.
  I've done this only to ensure that it won't prevent some Z80 code to run.
- Interlaced modes and Shadow/Highlight features of the VDP.

Other issues :
- Some games run quite well, but for some reason, others don't. 
  For instance, Golden Axe doesn't work properly, from the early beginning.
  However, some games that look more advanced, like Thunder Force III and IV,
  work quite well.
- The VDP needs some rework, so expect some graphical glitches.
- The flash erase/programming phase is tedious, someday I'll replace it with a 
  bootloader that will read ROMs from a SD card.
- A small expansion board to connect Genesis pads to the board would be nice, 
  instead of using switchs and push buttons...

================================================================================
Special thanks and greetings to :
- Charles MacDonald. 
  His documentation work, the source code for his Genesis Plus emulator, and 
  various chat sessions we had, have been very helpful.
- Tobias Gubener and Daniel Wallner, for their CPU cores.
- Kunihiko Ohnaka, for his EMSX project.
  It has been very helpful, especially for the SDRAM controller. 
- Pascal Bosquet, for providing me his Rick Dangerous port source code, among
  other stuff.
- People on IRC@EFNet : #gbadevfr and #utopiasoft.
- People of the SpritesMind.Net forum.
  This forum's threads contain very valuable information on Genesis emulation.

================================================================================
Gregory Estrade (Torlus) - 2010/07/14
greg@torlus.com
				</div>
				<hr>
				<div><B>近期下载者</B>：</div>
				<div id="download-users"></div>
				<hr>
				<div><B>相关文件</B>：</div>
				<div id="relate-items"></div>
				<hr>
				<div><B>评论</B>：[<a href=/Download/comment/id/1570441689900514.html data-toggle=modal data-target="#myModal">我要评论</a>]&nbsp;[<a class='pop-a' href=/Download/report/id/1570441689900514.html>举报此文件</a>]</div>
				<div id="file-comments"></div>
				<hr>
				<div><B>收藏者</B>：</div>
				<div id="favor-users"></div>
				<p></p>
			</div>

			<div class="col-xs-12 col-md-4">

				<div class="ad-sidebar text-center">
					<div class="ad-300">
					</div>
				</div>
			</div>
		</div>

	</div>
</div>



	<div class="my-footer">
		<div class="container">
		<div class="pull-right">
		</div>

		<div>
			
			<a href="http://www.pudn.com" target=_blank>© 联合开发网 from 2004</a> | 
			<a href="/Index/contact.html">联系站长</a> | 
			<a href=" https://beian.miit.gov.cn" target=_blank>湘ICP备2023001425号</a> | 
			<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=43010502000604" target=_blank>网安备43010502000604</a> | 
		</div>
		</div>
	</div>


</div><!-- /wrapper-->




<!-- page specific plugin scripts -->

<!-- inline scripts related to this page -->

<div id="myModal" class="modal fade" tabindex="-1" 
			role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			
		</div>
	</div>
</div><!-- /.modal-table -->

</body>

<script type="text/javascript">
$(document).on('click', '.list-more', function(){
	var id=$(this).attr('data-id');
	$('#list-'+id).css('max-height',$('#list-'+id)[0].scrollHeight);
	$(this).removeClass('list-more');
	$(this).addClass('list-hide');
	$(this).html('<i class="fa fa-angle-double-up"></i>');
	
	//$(this).hide();

	return false;
});

$(document).on('click', '.list-hide', function(){
	var id=$(this).attr('data-id');
	$('#list-'+id).css('max-height','100px');
	$(this).removeClass('list-hide');
	$(this).addClass('list-more');
	$(this).html('<i class="fa fa-angle-double-down"></i>');
	
	return false;
});

$("#myModal").on("hidden.bs.modal", function() {
    $(this).removeData();
});

$(document).on("click",".keyword",function(){
	var keyword=$(this).attr("keyword");
	var type_id=$(this).attr("type_id");
	if(typeof(type_id) =="undefined" || type_id =="") type_id="0";
	location.href="http://search.pudn.com/Download/index?keyword="+keyword;
	
	return false;
});
</script>
<script type="text/javascript" src="/js/time.js"></script>


<script type="text/javascript" src="/js/marked.min.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		$('.hide-list').each(function(){
			if ($(this)[0].offsetHeight < $(this)[0].scrollHeight){
				var id=$(this).attr('id');
				id =id.substring(5);
				$(this).after('<div style="text-align:center"><a href="" class="list-more" data-id="' + id + '"><i class="fa fa-angle-double-down"></i></a></div>');
			}
		});
	});
	var g_id="1570441689900514";
	var keywords =new Array();
		function get_download_user(){
		var url ="/Download/get_download_user/id/"+g_id+".html";
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			for(i in ret){
				html =html + '<a href=/User/profile/id/'+ret[i].user_new_id+'.html>'+ret[i].name+'</a> ';
			}
			$('#download-users').append(html);
		});
	}
	
	function get_relate_item(){
		var url ="/Download/get_relate_item/id/"+g_id+'.html';
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			var intro;
			for(i in ret){
				intro =ret[i].intro;
				for(j in keywords){
					var reg =new RegExp(keywords[j],'gmi');
					intro =intro.replace(reg,'<font color=brown>'+keywords[j]+'</font>');
				}
				html =html + '[<a href=/Download/item/id/'+ret[i].new_id+'.html>'+ret[i].name+'</a>]&nbsp; '+intro+'<BR>';
			}
			$('#relate-items').append(html);
		});
		
	}
	function get_score_name(score){
		switch(score){
		case '100': return '很好，推荐下载';
		case '85': return '还不错';
		case '75': return '一般，勉强可用';
		case '50': return '差';
		case '3': return '纯粹是垃圾';
		case '40': return '和说明完全不符';
		case '20': return '文件不全';
		case '10': return '不是源代码或资料';
		case '5': return '文件有密码，不知道密码';
		case '0': return '不能解压或下载失败';
		}
		return '';
	}
	function get_comment(){
		var url ="/Download/get_comments/id/"+g_id+'.html';
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var total_count =ret.total_count;
			var data =ret.data;
			var html='';
			for(i in data){
				html =html + '<a href="/User/profile/id/'+data[i].user_new_id+'.html" class="uploader">'+data[i].user_name+'</a>: <span class="comment-score">'+get_score_name(data[i].score)+'</span>, '+data[i].content+'<BR>';
			}
			$('#file-comments').append(html);
		});
		
	}
	function get_favor(){
		var url ="/Download/get_item_favors/id/"+g_id+".html";
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			for(i in ret){
				html =html + '<a href=/User/profile/id/'+ret[i].user_new_id+'.html class=user>'+ret[i].name+'</a>&nbsp;';
			}
			$('#favor-users').html(html);
		});
	}
	// 得到下载这个的用户又下载了什么
	function get_more_download(){
		
	}
	// 得到下载这个的用户又搜索了什么
	function get_more_keyword(){
		
	}
	
	// 得到论坛相关问题
	function get_bbs(){
		
	}
	
	// 得到软件工场相关内容
	function get_works(){
		
	}
	
	// 得到相关聊天室
	function get_chat(){
		
	}
	
	// 得到相关软件商城信息
	function get_shop(){
		
	}
	
	// 得到job
	
	// 得到学习内容

	// 数据
	get_download_user();
	//get_relate_item();
	get_comment();
	get_favor();
	
	$('.vote-up').click(function(){
		var url="/Download/vote/t/up/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0){
				alert(ret.info);
				if(ret.url.length >0)
					location.href=ret.url;
			}
			else{
				var s =$('#vote-up-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#vote-up-count').html(count);
			}
		})
		return false;
	});
	$('.vote-down').click(function(){
		var url="/Download/vote/t/down/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0)
				alert(ret.info);
			else{
				var s =$('#vote-down-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#vote-down-count').html(count);
			}
		})
		return false;
	});
	$('.favor-item').click(function(){
		var url="/Favor/add/t/0/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0){
				alert(ret.info);
			}
			else{
				var s =$('#favor-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#favor-count').html(count);
			}
		})
		return false;
	});
	$('.pop-a').click(function(){
		var url=$(this).attr('href');
		$.get(url,function(ret){
			alert(ret.info);
			//location.reload();
		})
		return false;
	});

document.getElementById('readme').innerHTML =marked.parse(document.getElementById('readme').innerHTML);
</script>



</html>