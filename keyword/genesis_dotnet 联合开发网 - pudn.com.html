
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>genesis_dotnet 联合开发网 - pudn.com</title>

    <link href="/Public/m/css/bootstrap.min.css" rel="stylesheet">
    <link href="/Public/m/font-awesome/css/font-awesome.css" rel="stylesheet">

    <link href="/Public/m/css/animate.css" rel="stylesheet">
    <link href="/Public/m/css/style.css" rel="stylesheet">

	<link href="/Public/m/css/plugins/slick/slick.css" rel="stylesheet">
	<link href="/Public/m/css/plugins/slick/slick-theme.css" rel="stylesheet">

	

	<link href="/css/style.css" rel="stylesheet">

	<!-- Mainly scripts -->
	<script src="/Public/m/js/jquery-2.1.1.js"></script>
	<script src="/Public/m/js/bootstrap.min.js"></script>

	<script src="/Public/m/js/plugins/metisMenu/jquery.metisMenu.js"></script>
	<script src="/Public/m/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

	<!-- Custom and plugin javascript -->
	<script src="/Public/m/js/inspinia.js"></script>
	<script src="/Public/m/js/plugins/pace/pace.min.js"></script>
	
<META name="Keywords" content="genesis_dotnet 程序员 编程 源码 源代码 下载">

	
<META name="Description" content="genesis_dotnet Genesis支付网关的.net客户端集成">

</head>

<body>

<!-- /.main-container start -->

<div class="pace  pace-inactive">
  	<div class="pace-progress" data-progress-text="100%" data-progress="99" style="transform: translate3d(100%, 0px, 0px);">
  	<div class="pace-progress-inner"></div>
	</div>
	<div class="pace-activity"></div>
</div>

<div class="all-content">
	<div class="my-container top-navigation">
		<nav class="navbar navbar-static-top" role="navigation">
			<div class="navbar-header">
				<button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
					<i class="fa fa-reorder"></i>
				</button>
				<a href="http://www.pudn.com" class="navbar-brand">联合开发网</a>
			</div>
			<div class="navbar-collapse collapse" id="navbar">
				<ul class="nav navbar-nav">
					<li>
						<a href="/" style="padding-right:8px;padding-left:8px;font-size:16px">首页</a>
					</li>
					<li>
						<a href="https://search.pudn.com" style="padding-right:8px;padding-left:8px;font-size:16px">搜索</a>
					</li>
				</ul>
               	<ul class="nav navbar-top-links navbar-right">
               							<li>
                       	<a href="/User/login.html">
                           	&nbsp; <i class="fa fa-sign-out"></i>登录
                       	</a>
                   	</li>
                   	<li>
                       	<a href="/User/reg.html"><i class="fa fa-sign-out"></i>注册
                       	</a>
                   	</li>
					               	</ul>
			</div>
		</nav>
	</div>
	<form action="https://search.pudn.com/Download" method="get">
	<div class="top-menu-line2">
		<div class="my-container">
			<a href=/Download/upload.html>上传</a>
			&nbsp; <a href=/User>管理</a>
			&nbsp; <a href=https://search.pudn.com/Download>搜索</a>
			&nbsp; <a href=/Guestbook>留言</a>
			<div class="input-group pull-right" style="max-width:200px;margin:3px 15px 0px 0px">
				<input type="text" name="keyword" maxlength=20 placeholder="请输入关键字" class="form-control input-sm">
				<span class="input-group-btn"> <button type="submit" class="btn btn-white input-sm" style="border:1px solid #AAA"><i class="fa fa-search"></i></button>
				</span>
			</div>
		</div>
	</div></form>



<div class="row wrapper white-bg">
	<div class="my-container">
			<div class="nav-dir" style="padding:10px 0px">
				<a href="/">Pudn.com</a>&nbsp;&gt;&nbsp;下载中心
				&nbsp;&gt;&nbsp;代理服务器				&nbsp;&gt;&nbsp;<font color=red>genesis_dotnet</font>
			</div>


		<div class="row">
			<div class="col-xs-12 col-md-8">
				<div class="item-name">genesis_dotnet</div>
				<div class="item-keyword">
									</div>
				<div class="item-action">
					<div class="btn-group">
						<a href=/Download/dl/id/1706832306552798 target=_blank class="btn btn-primary btn-sm">去下载(<span id="down-count">0</span>)</a>
						<a href="###" class="btn btn-white btn-sm vote-up"><i class="fa fa-thumbs-up"></i> 赞(<span id="vote-up-count">1</span>) </a>
						<a href="###" class="btn btn-white btn-sm vote-down"><i class="fa fa-thumbs-down"></i> 踩(<span id="vote-down-count">0</span>) </a>
						<a href="/Download/comment/id/1706832306552798" data-toggle="modal" data-target="#myModal" class="btn btn-white btn-sm"><i class="fa fa-comment"></i> 评论(<span id="comment-count">0</span>) </a>
						<a href="###" class="btn btn-white btn-sm favor-item"><i class="fa fa-heart"></i> 收藏(<span id="favor-count">0</span>) </a>
					</div>
				</div>
				<hr>

				<div class="item-info">
					<B>所属分类</B>：代理服务器<BR>
					<B>开发工具</B>：C#<BR>
					<B>文件大小</B>：0KB<BR>
					<B>下载次数</B>：0<BR>
					<B>上传日期</B>：2024-01-31 07:51:13<BR>
					<B>上 传 者</B>：<a href=/User/profile/id/1682139907912860.html>sh-1993</a><BR>
				</div>
				<div class="item-intro">
					说明：&nbsp;&nbsp;Genesis支付网关的.net客户端集成<BR>(.net client integration for Genesis Payment Gateway)				</div>
				<hr>
				<div><B>文件列表</B>: </div>
				<div id="file-list">
				Genesis.NETCore.Specs/<BR>Genesis.NETCore/<BR>Tools/<BR>packages/<BR>CHANGELOG.md<BR>Genesis.NET.sln<BR>GenesisLogo.png<BR>LICENSE<BR>VERSION<BR>build.cmd<BR>				</div>
				<hr>
				<div id="readme">
				Genesis .net
============

[![Software License](https://img.shields.io/badge/license-MIT-green.svg?style=flat)](LICENSE)

Overview
--------

Client Library for processing payments through Genesis Payment Processing Gateway. Its highly recommended to checkout "Genesis Payment Gateway API Documentation" first, [you can discover it here](https://emerchantpay.github.io/gateway-api-docs/#version), in order to get an overview of Genesis's Payment Gateway API and functionality.

Requirements
------------

* .NET framework 4.5 or later

Installation
------------

* clone this repo / download the archive
````sh
git clone https://github.com/GenesisGateway/genesis_dotnet.git genesis_dotnet && cd genesis_dotnet
````

* run [build.cmd] to build the library

Request types
-------------

You can use the following request types to initialize various transactions supported by Genesis.

````
Genesis.NetCore.Entities.Requests.Initial:
* AccountVerification
* Authorize
* Authorize3d
* Avs
* InitRecurringSale
* InitRecurringSale3d
* Payout
* Sale
* Sale3d
* WpfCreate
* GooglePay
* ApplePay

Genesis.NetCore.Entities.Requests.Initial.Threedsv2:
* ContinueRequest

Genesis.NetCore.Entities.Requests.Query:
* Blacklist
* SingleChargeback
* MultiChargeback
* SingleReconcile
* MultiReconcile
* SingleRetrievalRequest
* MultiRetrievalRequest

Genesis.NetCore.Entities.Requests.Referential:
* Capture
* Credit
* RecurringSale
* Refund
* VoidRequest
* WpfReconcile

````

Example code
-------------

```c#
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Net;
using System.IO;
using System.Diagnostics;
using System.Reflection;
using Genesis.NetCore;

namespace ExampleConsoleApplication
{
    class Program
    {
        static void Main(string[] args)
        {
            Program.SendRequest();
            Console.ReadKey();
        }

        public static void SendRequest()
        {
            // Set connection settings
            ServicePointManager.Expect100Continue = true;
            ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;
            ServicePointManager.CheckCertificateRevocationList = true;

            // Set merchant credentials
            string username = "YOUR_USERNAME";
            string password = "YOUR_PASSWORD";
            string token    = "YOUR_TOKEN";

            // Initialize configuration - endpoint and env
            Configuration configuration = new Configuration(
                Environments.Staging,
                token,
                username,
                password,
                Endpoints.eMerchantPay
            );

            // Initialize Genesis Client
            var genesis = Genesis.NetCore.GenesisClientFactory.Create(configuration);

            // Create Authorize request
            var request = new Genesis.NetCore.Entities.Requests.Initial.Authorize();

            // Set request info
            var random = new Random();
            request.Id = random.Next(1000000, 9000000).ToString();
            request.Usage = "Test Genesis.NET SDK";
            request.RemoteIp = "192.168.0.11";

            // Set amount & currency
            request.Amount = 3.14M;
            request.Currency = Genesis.NetCore.Common.Iso4217CurrencyCodes.EUR;

            // Set card info
            request.CardHolder = "John Smith";
            request.CardNumber = "4200000000000000";
            request.ExpirationMonth = "6";
            request.ExpirationYear = "2029";
            request.Cvv = "888";
            request.Moto = false;

            // Set customer info
            request.CustomerEmail = "john.smith@example.com";
            request.CustomerPhone = "888888888";

            // Set Billing Address
            request.BillingAddress = new Genesis.NetCore.Entities.Address
            {
                Country = Genesis.NetCore.Common.Iso3166CountryCodes.BG,
                City = "Sofia",
                State = "Sofia",
                Address1 = "Street 1",
                ZipCode = "1407",
                FirstName = "John",
                LastName = "Smith"
            };

            // Set Shipping Address
            request.ShippingAddress = new Genesis.NetCore.Entities.Address
            {
                Country = Genesis.NetCore.Common.Iso3166CountryCodes.BG,
                City = "Sofia",
                State = "Sofia",
                Address1 = "Street 1",
                ZipCode = "1407",
                FirstName = "John",
                LastName = "Smith"
            };

            // Business Attributes
            request.BusinessAttributes = new Genesis.NetCore.Entities.Attributes.Request.Financial.Business.BusinessAttributes
            {
                // Business Airlines Air Carriers
                FlightArrivalDate = "23-12-2030",
                FlightDepartureDate = "23-12-2030",
                AirlineCode = "C0D3",
                AirlineFlightNumber = "FLIGHT_NUMBER",
                FlightTicketNumber = "TICKET_NUMBER",
                FlightOriginCity = "ORIGIN_CITY",
                FlightDestinationCity = "DESTINATION_CITY",
                AirlineTourOperatorName = "TOUR_OPERATOR",

                // Event Management
                EventStartDate = "23-12-2030",
                EventEndDate = "24-12-2030",
                EventOrganizerId = "ORGANIZER_ID",
                EventId = "EVENT_ID",

                // Furniture
                DateOfOrder = "23-12-2030",
                DeliveryDate = "24-12-2030",
                NameOfTheSupplier = "SUPPLIER_NAME",

                // Hotels and Real estate rentals
                CheckInDate = "23-12-2030",
                CheckOutDate = "24-12-2030",
                TravelAgencyName = "TRAVEL_AGENCY",

                // Car, Plane and Boat Rentals
                VehiclePickUpDate = "23-12-2030",
                VehicleReturnDate = "24-12-2030",
                SupplierName = "SUPPLIER_NAME",

                // Cruise Lines
                CruiseStartDate = "23-12-2030",
                CruiseEndDate = "23-12-2030",

                // Travel Agencies
                ArrivalDate = "23-12-2030",
                DepartureDate = "24-12-2030",
                CarrierCode = "CARRIER_CODE",
                FlightNumber = "FLIGHT_NUMBER",
                TicketNumber = "TICKET_NUMBER",
                OriginCity = "ORIGIN_CITY",
                DestinationCity = "DESTINATION_CITY",
                TravelAgency = "TRAVEL_AGENCY",
                ContractorName = "CONTRACTOR_NAME",
                AtolCertificate = "ATOL_CERTIFICATE",
                PickUpDate = "22-12-2030",
                ReturnDate = "25-12-2030",

                // Payment Type
                PaymentType = "deposit"
            };

            Result<
                Genesis.NetCore.Entities.Responses.Successful.CardTransactionSuccessResponse,
                Genesis.NetCore.Entities.Responses.Error.CardTransactionErrorResponse> result = genesis.Execute(request);
           
            Console.WriteLine($"{nameof(result.IsSuccessful)}: {result.IsSuccessful}");
            if (result.IsSuccessful)
            {
                Console.WriteLine($"{nameof(result.SuccessResponse.Status)}: {result.SuccessResponse.Status}");
                Console.WriteLine($"{nameof(result.SuccessResponse.TransactionId)}: {result.SuccessResponse.TransactionId}");
                Console.WriteLine($"{nameof(result.SuccessResponse.UniqueId)}: {result.SuccessResponse.UniqueId}");
            }
            else
            {
                Console.WriteLine($"{nameof(result.ErrorResponse.Status)}: {result.ErrorResponse.Status}");
                Console.WriteLine($"{nameof(result.ErrorResponse.TransactionId)}: {result.ErrorResponse.TransactionId}");
                Console.WriteLine($"{nameof(result.ErrorResponse.UniqueId)}: {result.ErrorResponse.UniqueId}");
                Console.WriteLine($"{nameof(result.ErrorResponse.Message)}: {result.ErrorResponse.Message}");
                Console.WriteLine($"{nameof(result.ErrorResponse.TechnicalMessage)}: {result.ErrorResponse.TechnicalMessage}");
            }
        }
    }
}
```

Example WPF request

```c#
Random random = new Random();
Genesis.NetCore.Entities.Requests.Initial.WpfCreate request = new Genesis.NetCore.Entities.Requests.Initial.WpfCreate()
{
    TransactionId = random.Next(1000000, 9000000).ToString(),
    Usage = "Genesis.NET test",
    Amount = 1,
    Currency = Iso4217CurrencyCodes.EUR,
    ConsumerId = "123456", // only avaialable with enabled Tokenization, contact your Account Manager
    RememberCard = "true", // only avaialable with enabled Tokenization, contact your Account Manager
    CustomerEmail = "hello@world.com",
    CustomerPhone = "3598888888888",
    Description = "description",
    TransactionTypes = new Composite[] {
        new Composite() { { "name", TransactionTypes.Sale.ToString() } },
        new Composite() { { "name", TransactionTypes.Authorize.ToString() } }
    },
    ReturnCancelUrl = "http://test.com/cancel",
    ReturnFailureUrl = "http://test.com/fail",
    ReturnSuccessUrl = "http://test.com/success",
    NotificationUrl = "https://example.com/notify",
    BillingAddress = new Address()
    {
        Address1 = "billing address1",
        Address2 = "billing address2",
        City = "billing city",
        Country = Iso3166CountryCodes.BG,
        FirstName = "billing first name",
        LastName = "billing last name",
        State = "BS",
        ZipCode = "1000"
    },
    ShippingAddress = new Address()
    {
        Address1 = "shipping address1",
        Address2 = "shipping address2",
        City = "shipping city",
        Country = Iso3166CountryCodes.BG,
        FirstName = "shipping first name",
        LastName = "shipping last name",
        State = "BS",
        ZipCode = "1000"
    },
    BusinessAttributes = new Genesis.NetCore.Entities.Attributes.Request.Financial.Business.BusinessAttributes()
    {
        // Business Airlines Air Carriers
        FlightArrivalDate = "23-12-2030",
        FlightDepartureDate = "23-12-2030",
        AirlineCode = "C0D3",
        AirlineFlightNumber = "FLIGHT_NUMBER",
        FlightTicketNumber = "TICKET_NUMBER",
        FlightOriginCity = "ORIGIN_CITY",
        FlightDestinationCity = "DESTINATION_CITY",
        AirlineTourOperatorName = "TOUR_OPERATOR",

        // Event Management
        EventStartDate = "23-12-2030",
        EventEndDate = "24-12-2030",
        EventOrganizerId = "ORGANIZER_ID",
        EventId = "EVENT_ID",

        // Furniture
        DateOfOrder = "23-12-2030",
        DeliveryDate = "24-12-2030",
        NameOfTheSupplier = "SUPPLIER_NAME",

        // Hotels and Real estate rentals
        CheckInDate = "23-12-2030",
        CheckOutDate = "24-12-2030",
        TravelAgencyName = "TRAVEL_AGENCY",

        // Car, Plane and Boat Rentals
        VehiclePickUpDate = "23-12-2030",
        VehicleReturnDate = "24-12-2030",
        SupplierName = "SUPPLIER_NAME",

        // Cruise Lines
        CruiseStartDate = "23-12-2030",
        CruiseEndDate = "23-12-2030",

        // Travel Agencies
        ArrivalDate = "23-12-2030",
        DepartureDate = "24-12-2030",
        CarrierCode = "CARRIER_CODE",
        FlightNumber = "FLIGHT_NUMBER",
        TicketNumber = "TICKET_NUMBER",
        OriginCity = "ORIGIN_CITY",
        DestinationCity = "DESTINATION_CITY",
        TravelAgency = "TRAVEL_AGENCY",
        ContractorName = "CONTRACTOR_NAME",
        AtolCertificate = "ATOL_CERTIFICATE",
        PickUpDate = "22-12-2030",
        ReturnDate = "25-12-2030",

        // Payment Type
        PaymentType = "deposit"
    },
    PayLater = "true",
    ReminderLanguage = WpfLocales.EN,
	Reminders = new List<Reminder>
    {
        new Reminder
        {
            After = 40,
            Channel = "email"
        },
        new Reminder
        {
            After = 10,
            Channel = "sms"
        }
    },
    Sca = new Sca
    {
        Exemption = ScaExemptions.LowValue
    },
    WebPaymentFormId = "1"
};

Genesis.NetCore.Result<
    Genesis.NetCore.Entities.Responses.Successful.WpfCreateSuccessResponse,
    Genesis.NetCore.Entities.Responses.Error.WpfCreateErrorResponse
> res = genesis.Execute(request);
```


Example Sale3D v2 request with "Continue" request

```c#
using System;
using System.Collections.Generic;
using System.Globalization;
using System.Net;
using Genesis.NetCore;
using Genesis.NetCore.Common;
using Genesis.NetCore.Entities;
using Genesis.NetCore.Entities.Attributes.Request.Financial.Cards.ThreedsV2;
using Genesis.NetCore.Entities.Attributes.Request.Financial.Cards.ThreedsV2.Enums;
using Genesis.NetCore.Entities.Enums;
using Genesis.NetCore.Entities.Requests.Initial;
using Genesis.NetCore.Entities.Requests.Initial.Threedsv2;

namespace ConsoleTest3dv2Requests
{
    class Program
    {
        static void Main(string[] args)
        {
            TestSale3d();
            Console.WriteLine("End. Press any key...");
            Console.ReadKey();
        }

		static void TestSale3d()
        {
            // Set connection settings
            ServicePointManager.Expect100Continue = true;
            ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;
            ServicePointManager.CheckCertificateRevocationList = true;

            // Set merchant credentials
            string username = "YOUR_USERNAME";
            string password = "YOUR_PASSWORD";
            string token    = "YOUR_TOKEN";

            // Initialize configuration - endpoint and env
            var configuration = new Configuration(
                Environments.Staging,
                token,
                username,
                password,
                Endpoints.eMerchantPay
            );

            // Initialize Genesis Client
            var client = GenesisClientFactory.Create(configuration);

            Random random = new Random();
            var request = new Sale3d()
            {
                Id = random.Next(1000000, 9000000).ToString(),
                Usage = "40208 concert tickets",
                RemoteIp = "192.168.2.12",
                Amount = 50,
                Currency = Genesis.NetCore.Common.Iso4217CurrencyCodes.USD,
                CardHolder = "FirstName LastName",
                CustomerEmail = "jhonny@example.com",
                CustomerPhone = "+1678678678678",

                // Test Cases
                CardNumber = "4012000000060085", // Test Case: Synchronous 3DSv2 Request with Frictionless flow
                // CardNumber = "4066330000000004", // Test Case: Asynchronous 3DSv2 Request with 3DS-Method and Frictionless flow
                // CardNumber = "4918190000000002", // Test Case: Asynchronous 3DSv2 Request with Challenge flow
                // CardNumber = "4938730000000001", // Test Case: Asynchronous 3DSv2 Request with 3DS-Method Challenge flow
                // CardNumber = "4901170000000003", // Test Case: Asynchronous 3DSv2 Request with Fallback flow
                // CardNumber = "4901164281364345", // Test Case: Asynchronous 3DSv2 Request with 3DS-Method Fallback flow

                ExpirationMonth = "1",
                ExpirationYear = "2029",
                Cvv = "888",
                BillingAddress = new Address()
                {
                    Address1 = "Muster Str. 18",
                    City = "Los Angeles",
                    Country = Iso3166CountryCodes.US,
                    FirstName = "John",
                    LastName = "Smith",
                    State = "CA",
                    ZipCode = "10178"
                },
                ShippingAddress = new Address()
                {
                    Address1 = "Muster Str. 18",
                    City = "Los Angeles",
                    Country = Iso3166CountryCodes.US,
                    FirstName = "John",
                    LastName = "Smith",
                    State = "CA",
                    ZipCode = "10178"
                },
                NotificationUrl = "https://www.example.com/notification",
                ReturnSuccessUrl = "http://www.example.com/success",
                ReturnFailureUrl = "http://www.example.com/failure",
                ThreeDSv2 = new ThreeDSv2
                {
                    ThreedsMethod = new ThreedsMethod()
                    {
                        CallbackUrl = "https://www.example.com/threeds/threeds_method/callback",
                    },
                    Control = new Control()
                    {
                        DeviceType = DeviceTypes.Browser,
                        ChallengeWindowSize = ChallengeWindowSizes.FullScreen,
                        ChallengeIndicator = ChallengeIndicators.Preference
                    },
                    Purchase = new Purchase()
                    {
                        Category = PurchaseCategories.Service
                    },
                    MerchantRisk = new MerchantRisk()
                    {
                        ShippingIndicator = ShippingIndicators.VerifiedAddress,
                        DeliveryTimeframe = DeliveryTimeframes.Electronic,
                        ReorderItemsIndicator = ReorderItemsIndicators.Reordered,
                        PreOrderPurchaseIndicator = PreOrderPurchaseIndicators.MerchandiseAvailable,
                        PreOrderDate = new DateTime(2030, 12, 31).Date,
                        GiftCard = true,
                        GiftCardCount = 99
                    },
                    CardHolderAccount = new CardHolderAccount()
                    {
                        CreationDate = new DateTime(2020, 05, 25).Date,
                        UpdateIndicator = UpdateIndicators.MoreThan60Days,
                        LastChangeDate = new DateTime(2021, 02, 25).Date,
                        PasswordChangeIndicator = PasswordChangeIndicators.NoChange,
                        PasswordChangeDate = new DateTime(2021, 05, 10).Date,
                        ShippingAddressUsageIndicator = ShippingAddressUsageIndicators.CurrentTransaction,
                        ShippingAddressDateFirstUsed = new DateTime(2021, 05, 20).Date,
                        TransactionsActivityLast24Hours = 2,
                        TransactionsActivityPreviousYear = 10,
                        ProvisionAttemptsLast24Hours = 1,
                        PurchasesCountLast6Months = 5,
                        SuspiciousActivityIndicator = SuspiciousActivityIndicators.NoSuspiciousObserved,
                        RegistrationIndicator = RegistrationIndicators.From30To60Days,
                        RegistrationDate = new DateTime(2020, 05, 25).Date,
                    },
                    Browser = new Browser()
                    {
                        AcceptHeader = "*/*",
                        JavaEnabled = false,
                        Language = "en-GB",
                        ColorDepth = 24,
                        ScreenHeight = 900,
                        ScreenWidth = 1440,
                        TimeZoneOffset = -120,
                        UserAgent = "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36",
                    },
                    Sdk = new Sdk()
                    {
        ... ...				</div>
				<hr>
				<div><B>近期下载者</B>：</div>
				<div id="download-users"></div>
				<hr>
				<div><B>相关文件</B>：</div>
				<div id="relate-items"></div>
				<hr>
				<div><B>评论</B>：[<a href=/Download/comment/id/1706832306552798.html data-toggle=modal data-target="#myModal">我要评论</a>]&nbsp;[<a class='pop-a' href=/Download/report/id/1706832306552798.html>举报此文件</a>]</div>
				<div id="file-comments"></div>
				<hr>
				<div><B>收藏者</B>：</div>
				<div id="favor-users"></div>
				<p></p>
			</div>

			<div class="col-xs-12 col-md-4">

				<div class="ad-sidebar text-center">
					<div class="ad-300">
					</div>
				</div>
			</div>
		</div>

	</div>
</div>



	<div class="my-footer">
		<div class="container">
		<div class="pull-right">
		</div>

		<div>
			
			<a href="http://www.pudn.com" target=_blank>© 联合开发网 from 2004</a> | 
			<a href="/Index/contact.html">联系站长</a> | 
			<a href=" https://beian.miit.gov.cn" target=_blank>湘ICP备2023001425号</a> | 
			<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=43010502000604" target=_blank>网安备43010502000604</a> | 
		</div>
		</div>
	</div>


</div><!-- /wrapper-->




<!-- page specific plugin scripts -->

<!-- inline scripts related to this page -->

<div id="myModal" class="modal fade" tabindex="-1" 
			role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			
		</div>
	</div>
</div><!-- /.modal-table -->

</body>

<script type="text/javascript">
$(document).on('click', '.list-more', function(){
	var id=$(this).attr('data-id');
	$('#list-'+id).css('max-height',$('#list-'+id)[0].scrollHeight);
	$(this).removeClass('list-more');
	$(this).addClass('list-hide');
	$(this).html('<i class="fa fa-angle-double-up"></i>');
	
	//$(this).hide();

	return false;
});

$(document).on('click', '.list-hide', function(){
	var id=$(this).attr('data-id');
	$('#list-'+id).css('max-height','100px');
	$(this).removeClass('list-hide');
	$(this).addClass('list-more');
	$(this).html('<i class="fa fa-angle-double-down"></i>');
	
	return false;
});

$("#myModal").on("hidden.bs.modal", function() {
    $(this).removeData();
});

$(document).on("click",".keyword",function(){
	var keyword=$(this).attr("keyword");
	var type_id=$(this).attr("type_id");
	if(typeof(type_id) =="undefined" || type_id =="") type_id="0";
	location.href="http://search.pudn.com/Download/index?keyword="+keyword;
	
	return false;
});
</script>
<script type="text/javascript" src="/js/time.js"></script>


<script type="text/javascript" src="/js/marked.min.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		$('.hide-list').each(function(){
			if ($(this)[0].offsetHeight < $(this)[0].scrollHeight){
				var id=$(this).attr('id');
				id =id.substring(5);
				$(this).after('<div style="text-align:center"><a href="" class="list-more" data-id="' + id + '"><i class="fa fa-angle-double-down"></i></a></div>');
			}
		});
	});
	var g_id="1706832306552798";
	var keywords =new Array();
		function get_download_user(){
		var url ="/Download/get_download_user/id/"+g_id+".html";
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			for(i in ret){
				html =html + '<a href=/User/profile/id/'+ret[i].user_new_id+'.html>'+ret[i].name+'</a> ';
			}
			$('#download-users').append(html);
		});
	}
	
	function get_relate_item(){
		var url ="/Download/get_relate_item/id/"+g_id+'.html';
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			var intro;
			for(i in ret){
				intro =ret[i].intro;
				for(j in keywords){
					var reg =new RegExp(keywords[j],'gmi');
					intro =intro.replace(reg,'<font color=brown>'+keywords[j]+'</font>');
				}
				html =html + '[<a href=/Download/item/id/'+ret[i].new_id+'.html>'+ret[i].name+'</a>]&nbsp; '+intro+'<BR>';
			}
			$('#relate-items').append(html);
		});
		
	}
	function get_score_name(score){
		switch(score){
		case '100': return '很好，推荐下载';
		case '85': return '还不错';
		case '75': return '一般，勉强可用';
		case '50': return '差';
		case '3': return '纯粹是垃圾';
		case '40': return '和说明完全不符';
		case '20': return '文件不全';
		case '10': return '不是源代码或资料';
		case '5': return '文件有密码，不知道密码';
		case '0': return '不能解压或下载失败';
		}
		return '';
	}
	function get_comment(){
		var url ="/Download/get_comments/id/"+g_id+'.html';
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var total_count =ret.total_count;
			var data =ret.data;
			var html='';
			for(i in data){
				html =html + '<a href="/User/profile/id/'+data[i].user_new_id+'.html" class="uploader">'+data[i].user_name+'</a>: <span class="comment-score">'+get_score_name(data[i].score)+'</span>, '+data[i].content+'<BR>';
			}
			$('#file-comments').append(html);
		});
		
	}
	function get_favor(){
		var url ="/Download/get_item_favors/id/"+g_id+".html";
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			for(i in ret){
				html =html + '<a href=/User/profile/id/'+ret[i].user_new_id+'.html class=user>'+ret[i].name+'</a>&nbsp;';
			}
			$('#favor-users').html(html);
		});
	}
	// 得到下载这个的用户又下载了什么
	function get_more_download(){
		
	}
	// 得到下载这个的用户又搜索了什么
	function get_more_keyword(){
		
	}
	
	// 得到论坛相关问题
	function get_bbs(){
		
	}
	
	// 得到软件工场相关内容
	function get_works(){
		
	}
	
	// 得到相关聊天室
	function get_chat(){
		
	}
	
	// 得到相关软件商城信息
	function get_shop(){
		
	}
	
	// 得到job
	
	// 得到学习内容

	// 数据
	get_download_user();
	//get_relate_item();
	get_comment();
	get_favor();
	
	$('.vote-up').click(function(){
		var url="/Download/vote/t/up/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0){
				alert(ret.info);
				if(ret.url.length >0)
					location.href=ret.url;
			}
			else{
				var s =$('#vote-up-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#vote-up-count').html(count);
			}
		})
		return false;
	});
	$('.vote-down').click(function(){
		var url="/Download/vote/t/down/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0)
				alert(ret.info);
			else{
				var s =$('#vote-down-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#vote-down-count').html(count);
			}
		})
		return false;
	});
	$('.favor-item').click(function(){
		var url="/Favor/add/t/0/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0){
				alert(ret.info);
			}
			else{
				var s =$('#favor-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#favor-count').html(count);
			}
		})
		return false;
	});
	$('.pop-a').click(function(){
		var url=$(this).attr('href');
		$.get(url,function(ret){
			alert(ret.info);
			//location.reload();
		})
		return false;
	});

document.getElementById('readme').innerHTML =marked.parse(document.getElementById('readme').innerHTML);
</script>



</html>