
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>genipak-magicard-tool 联合开发网 - pudn.com</title>

    <link href="/Public/m/css/bootstrap.min.css" rel="stylesheet">
    <link href="/Public/m/font-awesome/css/font-awesome.css" rel="stylesheet">

    <link href="/Public/m/css/animate.css" rel="stylesheet">
    <link href="/Public/m/css/style.css" rel="stylesheet">

	<link href="/Public/m/css/plugins/slick/slick.css" rel="stylesheet">
	<link href="/Public/m/css/plugins/slick/slick-theme.css" rel="stylesheet">

	

	<link href="/css/style.css" rel="stylesheet">

	<!-- Mainly scripts -->
	<script src="/Public/m/js/jquery-2.1.1.js"></script>
	<script src="/Public/m/js/bootstrap.min.js"></script>

	<script src="/Public/m/js/plugins/metisMenu/jquery.metisMenu.js"></script>
	<script src="/Public/m/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

	<!-- Custom and plugin javascript -->
	<script src="/Public/m/js/inspinia.js"></script>
	<script src="/Public/m/js/plugins/pace/pace.min.js"></script>
	
<META name="Keywords" content="genipak-magicard-tool reverse-engineering cheating m68k sega-mega-drive sega-genesis 程序员 编程 源码 源代码 下载">

	
<META name="Description" content="genipak-magicard-tool Sega Genesis游戏作弊盒带Genipak和Magicard的代码转换工具。">

</head>

<body>

<!-- /.main-container start -->

<div class="pace  pace-inactive">
  	<div class="pace-progress" data-progress-text="100%" data-progress="99" style="transform: translate3d(100%, 0px, 0px);">
  	<div class="pace-progress-inner"></div>
	</div>
	<div class="pace-activity"></div>
</div>

<div class="all-content">
	<div class="my-container top-navigation">
		<nav class="navbar navbar-static-top" role="navigation">
			<div class="navbar-header">
				<button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
					<i class="fa fa-reorder"></i>
				</button>
				<a href="http://www.pudn.com" class="navbar-brand">联合开发网</a>
			</div>
			<div class="navbar-collapse collapse" id="navbar">
				<ul class="nav navbar-nav">
					<li>
						<a href="/" style="padding-right:8px;padding-left:8px;font-size:16px">首页</a>
					</li>
					<li>
						<a href="https://search.pudn.com" style="padding-right:8px;padding-left:8px;font-size:16px">搜索</a>
					</li>
				</ul>
               	<ul class="nav navbar-top-links navbar-right">
               							<li>
                       	<a href="/User/login.html">
                           	&nbsp; <i class="fa fa-sign-out"></i>登录
                       	</a>
                   	</li>
                   	<li>
                       	<a href="/User/reg.html"><i class="fa fa-sign-out"></i>注册
                       	</a>
                   	</li>
					               	</ul>
			</div>
		</nav>
	</div>
	<form action="https://search.pudn.com/Download" method="get">
	<div class="top-menu-line2">
		<div class="my-container">
			<a href=/Download/upload.html>上传</a>
			&nbsp; <a href=/User>管理</a>
			&nbsp; <a href=https://search.pudn.com/Download>搜索</a>
			&nbsp; <a href=/Guestbook>留言</a>
			<div class="input-group pull-right" style="max-width:200px;margin:3px 15px 0px 0px">
				<input type="text" name="keyword" maxlength=20 placeholder="请输入关键字" class="form-control input-sm">
				<span class="input-group-btn"> <button type="submit" class="btn btn-white input-sm" style="border:1px solid #AAA"><i class="fa fa-search"></i></button>
				</span>
			</div>
		</div>
	</div></form>



<div class="row wrapper white-bg">
	<div class="my-container">
			<div class="nav-dir" style="padding:10px 0px">
				<a href="/">Pudn.com</a>&nbsp;&gt;&nbsp;下载中心
				&nbsp;&gt;&nbsp;collect				&nbsp;&gt;&nbsp;<font color=red>genipak-magicard-tool</font>
			</div>


		<div class="row">
			<div class="col-xs-12 col-md-8">
				<div class="item-name">genipak-magicard-tool</div>
				<div class="item-keyword">
					<a href="#" class="keyword" keyword="reverse-engineering">reverse-engineering</a>&nbsp;<a href="#" class="keyword" keyword="cheating">cheating</a>&nbsp;<a href="#" class="keyword" keyword="m68k">m68k</a>&nbsp;<a href="#" class="keyword" keyword="sega-mega-drive">sega-mega-drive</a>&nbsp;<a href="#" class="keyword" keyword="sega-genesis">sega-genesis</a>&nbsp;				</div>
				<div class="item-action">
					<div class="btn-group">
						<a href=/Download/dl/id/1689548662150938 target=_blank class="btn btn-primary btn-sm">去下载(<span id="down-count">0</span>)</a>
						<a href="###" class="btn btn-white btn-sm vote-up"><i class="fa fa-thumbs-up"></i> 赞(<span id="vote-up-count">1</span>) </a>
						<a href="###" class="btn btn-white btn-sm vote-down"><i class="fa fa-thumbs-down"></i> 踩(<span id="vote-down-count">0</span>) </a>
						<a href="/Download/comment/id/1689548662150938" data-toggle="modal" data-target="#myModal" class="btn btn-white btn-sm"><i class="fa fa-comment"></i> 评论(<span id="comment-count">0</span>) </a>
						<a href="###" class="btn btn-white btn-sm favor-item"><i class="fa fa-heart"></i> 收藏(<span id="favor-count">0</span>) </a>
					</div>
				</div>
				<hr>

				<div class="item-info">
					<B>所属分类</B>：collect<BR>
					<B>开发工具</B>：JavaScript<BR>
					<B>文件大小</B>：0KB<BR>
					<B>下载次数</B>：0<BR>
					<B>上传日期</B>：2023-05-23 13:03:18<BR>
					<B>上 传 者</B>：<a href=/User/profile/id/1682139907912860.html>sh-1993</a><BR>
				</div>
				<div class="item-intro">
					说明：&nbsp;&nbsp;Sega Genesis游戏作弊盒带Genipak和Magicard的代码转换工具。<BR>(A code conversion tool for the Sega Genesis game cheating cartridge Genipak and Magicard.)				</div>
				<hr>
				<div><B>文件列表</B>: </div>
				<div id="file-list">
				LICENSE (1064, 2023-05-23)<BR>cart_images/ (0, 2023-05-23)<BR>cart_images/genipak/ (0, 2023-05-23)<BR>cart_images/genipak/IMG_4711.<B>heic</B> (1549654, 2023-05-23)<BR>cart_images/genipak/IMG_4711_small.<B>jpg</B> (916685, 2023-05-23)<BR>cart_images/genipak/IMG_4712.<B>heic</B> (1604468, 2023-05-23)<BR>cart_images/genipak/IMG_4712_small.<B>jpg</B> (929844, 2023-05-23)<BR>cart_images/genipak/IMG_4713.<B>heic</B> (1722349, 2023-05-23)<BR>cart_images/genipak/IMG_4713_small.<B>jpg</B> (996462, 2023-05-23)<BR>cart_images/genipak/IMG_4714.<B>heic</B> (1632633, 2023-05-23)<BR>cart_images/genipak/IMG_4714_small.<B>jpg</B> (1009987, 2023-05-23)<BR>cart_images/magicard/ (0, 2023-05-23)<BR>cart_images/magicard/IMG_0603.<B>heic</B> (2027860, 2023-05-23)<BR>cart_images/magicard/IMG_0603_small.<B>jpg</B> (1019094, 2023-05-23)<BR>cart_images/magicard/IMG_0604.<B>heic</B> (1886101, 2023-05-23)<BR>cart_images/magicard/IMG_0604_small.<B>jpg</B> (1029171, 2023-05-23)<BR>cart_images/magicard/IMG_0605.<B>heic</B> (1898751, 2023-05-23)<BR>cart_images/magicard/IMG_0605_small.<B>jpg</B> (1070542, 2023-05-23)<BR>docs/ (0, 2023-05-23)<BR>docs/genipak_magicard_tool.<B>js</B> (20424, 2023-05-23)<BR>docs/index.<B>html</B> (7201, 2023-05-23)<BR>docs/jquery.<B>js</B> (288580, 2023-05-23)<BR>html_version/ (0, 2023-05-23)<BR>html_version/genipak_magicard_tool.<B>js</B> (20424, 2023-05-23)<BR>html_version/index.<B>html</B> (7201, 2023-05-23)<BR>html_version/jquery.<B>js</B> (288580, 2023-05-23)<BR>nodejs_version/ (0, 2023-05-23)<BR>nodejs_version/genipakEncDec.<B>js</B> (20421, 2023-05-23)<BR>nodejs_version/magicardEncDec.<B>js</B> (16313, 2023-05-23)<BR>				</div>
				<hr>
				<div id="readme">
				# Genipak and Magicard Tool

## Online version
* Just visit: https://sonic3d.github.io/genipak-magicard-tool/

## Introduction
The Genipak and Magicard Tool is a tool for converting raw address/value pairs of cheating codes to Genipak and Magicard formats.

## About Genipak and Magicard
Genipak and Magicard are Sega Genesis/MegaDrive cheating devices similar to Game Genie. Genipak was developed by Realtek in 1992, and Magicard is a modified version released by Gamtec. They are technically ROM bus patching tools.

The code formats of Genipak and Magicard are different. But the internal algorithm is the same.

## How to use
* For the Node.js version, you need to install Node.js first. Then run `node genipakEncDec.js` or `node magicardEncDec.js` to check the detailed usage notes.

* For the HTML version, just open the index.html file in your browser. Enter the code and press the corresponding button to convert.

* Or simply visit the online version: https://sonic3d.github.io/genipak-magicard-tool/

## Code format and the algorithm
Both Genipak and Magicard codes are 10 characters long. The code can be converted to a raw address/value pair for patching the data output on the console ROM bus. (The address is 24 bits long, and the value is 16 bits long.)

If you plan to verify the algorithm details in this doc. The original decoding code function entry is at the offset 0x0F3A of the Genipak ROM, and the offset 0x0FC8 of the Magicard ROM.

The decoding algorithm (converting the cheating code to a raw address/value pair) can be split into the following steps:
1. Code character values transition.
2. Encryption key extraction.
3. Apply the decoding algorithm to each character and concatenate the results.

### Code character values transition
* The valid input characters for Genipak are:  "ABCDEFGHIJKLMNOP".
* The valid input characters for Magicard are: "ABDFGHIKNPRSTUYZ".

Each character can be converted to a 4-bit HEX value. The conversion table is as follows:
| HEX value| 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | A | B | C | D | E | F |
| -------- | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - |
| Genipak  | A | B | C | D | E | F | G | H | I | J | K | L | M | N | O | P |
| Magicard | A | B | D | F | G | H | I | K | N | P | R | S | T | U | Y | Z |

### Encryption key extraction
After converting the cheat code to a HEX value string, there are 2 encryption key characters that need to be extracted.
* The 1st key char is the 3rd char of the HEX string.
* The 2nd key char is the 5th char of the HEX string.

### Apply the decoding algorithm to each character
1. Treat each char of the HEX string as a 4-bit HEX number in the following steps.
2. For the 1st char and 10th char of the HEX string, add 6 to each of them and MOD them by $F.
3. For the 5th char of the HEX string, add $F to it, then minus the key1, then MOD it by $F.
4. For the other chars of the HEX string, add $F to it, then add the (key1-key2), then MOD it by $F.
5. Concatenate all the result characters in their original order, the first 6 chars are the decoded address, and the rest 4 chars are the value.

### Decoding example
* Input Genipak code: LBENFNFPIM
* Step 1: Convert to HEX string: B14D5D5F8C
* Step 2: Get key1 = 4, and key2 = 5
* Step 3: Apply the algorithm and concat the result string.
    ```
      B 1 4 D 5 D : 5 F 8 C
    + 6 0 0 0 0 0 : 0 0 0 6
    + 4 4 4 4 0 4 : 4 4 4 4
    - 5 5 5 5 4 5 : 5 5 5 5
    & F F F F F F : F F F F
    -----------------------
      0 0 3 C 1 C : 4 E 7 1
    ```
* Finally, we get the raw address/value pair: `003C1C:4E71`.

### Encoding the raw address/value pair to the Genipak or Magicard code
Basically, it's just the reversed calculation steps of the decoding algorithm. 
1. Encryption key calculation.
2. Apply the encoding algorithm to each character and concatenate the results.
3. Code character values transition.

The primary difference is the step of calculating the encryption keys.

### Encryption key calculation
1. Concatenate the address (6 chars) and the value (4 chars) as the input string.
2. Get the 3rd char from the input string as data_1.
3. Get the 5th char from the input string as data_2.
4. The key1 = (data_1 + data_2) % 0xF.
5. The key2 = (key1 + data_2) % 0xF.

### Encoding example
* RAW address value pair: 00033A:4A78, so the input string is 00033A4A78.
* Step 1: Calculate the encryption keys.
    ```
    data_1 = 0;
    data_2 = 3;
    key1 = (data_1 + data_2) % 0xF = (0 + 3) % 0xF = 3;
    key2 = (key1 + data_2) % 0xF = (3 + 3) % 0xF = 6;
    ```
* Step 2: Apply the algorithm and concatenate the result string.
    ```
      0 0 0 3 3 A : 4 A 7 8
    + 6 6 6 6 3 6 : 6 6 6 6
    - 3 3 3 3 0 3 : 3 3 3 3
    - 6 0 0 0 0 0 : 0 0 0 6
    & F F F F F F : F F F F
    -----------------------
      D 3 3 6 6 D   7 D A 5
    ```
* Step 3: Transform the HEX string `D3366D7DA5` to Genipak and Magicard code formats.
    * Genipak code: NDDGGNHNKF
    * Magicard code: UFFIIUKURH

## Other Technical Details
### Hardware register info
* $8000: Mode Register
    * Byte Access, Write Only
        * Bit 7-6: Unused (always set to 1 in code)
        * Bit 5: Cheating code line 5 status (0: enabled, 1: disabled)
        * Bit 4: Cheating code line 4 status (0: enabled, 1: disabled)
        * Bit 3: Cheating code line 3 status (0: enabled, 1: disabled)
        * Bit 2: Cheating code line 2 status (0: enabled, 1: disabled)
        * Bit 1: Cheating code line 1 status (0: enabled, 1: disabled)
        * Bit 0: Cheating program ROM/Game cartridge ROM mapping status (0: Genipak/Magicard ROM, 1: game cartridge ROM)
    * Cheating code is disable if the sum value of all the char values in the code is 0.
* $8002-$801E: Patch Registers
    * Word Access, Write Only
    * $8002: Cheating code line 1 patch address LSW(Bit 15-0 of the target address).
    * $8004: Cheating code line 1 patch address MSW(Bit 31-16 of the target address).
        * Bit 31..24 are always 0 in calculation result. (May not be actually mapped to any real hardware register, as the 68000 address bus is 24-bit.)
    * $8006: Cheating code line 1 patch data.
    * $8008: Cheating code line 2 patch address LSW.
    * $800A: Cheating code line 2 patch address MSW.
    * $800C: Cheating code line 2 patch data.
    * $800E: Cheating code line 3 patch address LSW.
    * $8010: Cheating code line 3 patch address MSW.
    * $8012: Cheating code line 3 patch data.
    * $8014: Cheating code line 4 patch address LSW.
    * $8016: Cheating code line 4 patch address MSW.
    * $8018: Cheating code line 4 patch data.
    * $801A: Cheating code line 5 patch address LSW.
    * $801C: Cheating code line 5 patch address MSW.
    * $801E: Cheating code line 5 patch data.

## Special Thanks
* EkeEke(eke_eke31@yahoo.fr), for the original Magicard notes.
* dtxyy(QQ: 8583***44), for donating a working Magicard to me. (Oct,2022)
* 老何189276(QQ: 2726****61), for donating a working Genipak to me. (May,2023)

## Reference
* Notes written by EkeEke and referenced by [this topic](http://gendev.spritesmind.net/forum/viewtopic.php?t=813)(via archive.org): [http://genplus-gx.googlecode.com/files/gamtec.txt](https://web.archive.org/web/20110901131001/http://genplus-gx.googlecode.com/files/gamtec.txt)
    * Please note that the register mapping info and the code concatenation info in the above notes are incorrect. Check the section [Hardware register info](#hardware-register-info) and [Code format and the algorithm](#code-format-and-the-algorithm) in current ReadMe for the corrected info.
* Genipak: https://segaretro.org/Genipak
* Magicard: https://segaretro.org/Magicard

## Cart Images
* Genipak
    <br><img src="https://github.com/SONIC3D/genipak-magicard-tool/blob/master/cart_images/genipak/IMG_4711_small.jpg?raw=true" width="512" />
* Magicard
    <br><img src="https://github.com/SONIC3D/genipak-magicard-tool/blob/master/cart_images/magicard/IMG_0603_small.jpg?raw=true" width="512" />
				</div>
				<hr>
				<div><B>近期下载者</B>：</div>
				<div id="download-users"></div>
				<hr>
				<div><B>相关文件</B>：</div>
				<div id="relate-items"></div>
				<hr>
				<div><B>评论</B>：[<a href=/Download/comment/id/1689548662150938.html data-toggle=modal data-target="#myModal">我要评论</a>]&nbsp;[<a class='pop-a' href=/Download/report/id/1689548662150938.html>举报此文件</a>]</div>
				<div id="file-comments"></div>
				<hr>
				<div><B>收藏者</B>：</div>
				<div id="favor-users"></div>
				<p></p>
			</div>

			<div class="col-xs-12 col-md-4">

				<div class="ad-sidebar text-center">
					<div class="ad-300">
					</div>
				</div>
			</div>
		</div>

	</div>
</div>



	<div class="my-footer">
		<div class="container">
		<div class="pull-right">
		</div>

		<div>
			
			<a href="http://www.pudn.com" target=_blank>© 联合开发网 from 2004</a> | 
			<a href="/Index/contact.html">联系站长</a> | 
			<a href=" https://beian.miit.gov.cn" target=_blank>湘ICP备2023001425号</a> | 
			<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=43010502000604" target=_blank>网安备43010502000604</a> | 
		</div>
		</div>
	</div>


</div><!-- /wrapper-->




<!-- page specific plugin scripts -->

<!-- inline scripts related to this page -->

<div id="myModal" class="modal fade" tabindex="-1" 
			role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			
		</div>
	</div>
</div><!-- /.modal-table -->

</body>

<script type="text/javascript">
$(document).on('click', '.list-more', function(){
	var id=$(this).attr('data-id');
	$('#list-'+id).css('max-height',$('#list-'+id)[0].scrollHeight);
	$(this).removeClass('list-more');
	$(this).addClass('list-hide');
	$(this).html('<i class="fa fa-angle-double-up"></i>');
	
	//$(this).hide();

	return false;
});

$(document).on('click', '.list-hide', function(){
	var id=$(this).attr('data-id');
	$('#list-'+id).css('max-height','100px');
	$(this).removeClass('list-hide');
	$(this).addClass('list-more');
	$(this).html('<i class="fa fa-angle-double-down"></i>');
	
	return false;
});

$("#myModal").on("hidden.bs.modal", function() {
    $(this).removeData();
});

$(document).on("click",".keyword",function(){
	var keyword=$(this).attr("keyword");
	var type_id=$(this).attr("type_id");
	if(typeof(type_id) =="undefined" || type_id =="") type_id="0";
	location.href="http://search.pudn.com/Download/index?keyword="+keyword;
	
	return false;
});
</script>
<script type="text/javascript" src="/js/time.js"></script>


<script type="text/javascript" src="/js/marked.min.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		$('.hide-list').each(function(){
			if ($(this)[0].offsetHeight < $(this)[0].scrollHeight){
				var id=$(this).attr('id');
				id =id.substring(5);
				$(this).after('<div style="text-align:center"><a href="" class="list-more" data-id="' + id + '"><i class="fa fa-angle-double-down"></i></a></div>');
			}
		});
	});
	var g_id="1689548662150938";
	var keywords =new Array();
	keywords[0] ='reverse-engineering';keywords[1] ='cheating';keywords[2] ='m68k';keywords[3] ='sega-mega-drive';keywords[4] ='sega-genesis';	function get_download_user(){
		var url ="/Download/get_download_user/id/"+g_id+".html";
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			for(i in ret){
				html =html + '<a href=/User/profile/id/'+ret[i].user_new_id+'.html>'+ret[i].name+'</a> ';
			}
			$('#download-users').append(html);
		});
	}
	
	function get_relate_item(){
		var url ="/Download/get_relate_item/id/"+g_id+'.html';
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			var intro;
			for(i in ret){
				intro =ret[i].intro;
				for(j in keywords){
					var reg =new RegExp(keywords[j],'gmi');
					intro =intro.replace(reg,'<font color=brown>'+keywords[j]+'</font>');
				}
				html =html + '[<a href=/Download/item/id/'+ret[i].new_id+'.html>'+ret[i].name+'</a>]&nbsp; '+intro+'<BR>';
			}
			$('#relate-items').append(html);
		});
		
	}
	function get_score_name(score){
		switch(score){
		case '100': return '很好，推荐下载';
		case '85': return '还不错';
		case '75': return '一般，勉强可用';
		case '50': return '差';
		case '3': return '纯粹是垃圾';
		case '40': return '和说明完全不符';
		case '20': return '文件不全';
		case '10': return '不是源代码或资料';
		case '5': return '文件有密码，不知道密码';
		case '0': return '不能解压或下载失败';
		}
		return '';
	}
	function get_comment(){
		var url ="/Download/get_comments/id/"+g_id+'.html';
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var total_count =ret.total_count;
			var data =ret.data;
			var html='';
			for(i in data){
				html =html + '<a href="/User/profile/id/'+data[i].user_new_id+'.html" class="uploader">'+data[i].user_name+'</a>: <span class="comment-score">'+get_score_name(data[i].score)+'</span>, '+data[i].content+'<BR>';
			}
			$('#file-comments').append(html);
		});
		
	}
	function get_favor(){
		var url ="/Download/get_item_favors/id/"+g_id+".html";
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			for(i in ret){
				html =html + '<a href=/User/profile/id/'+ret[i].user_new_id+'.html class=user>'+ret[i].name+'</a>&nbsp;';
			}
			$('#favor-users').html(html);
		});
	}
	// 得到下载这个的用户又下载了什么
	function get_more_download(){
		
	}
	// 得到下载这个的用户又搜索了什么
	function get_more_keyword(){
		
	}
	
	// 得到论坛相关问题
	function get_bbs(){
		
	}
	
	// 得到软件工场相关内容
	function get_works(){
		
	}
	
	// 得到相关聊天室
	function get_chat(){
		
	}
	
	// 得到相关软件商城信息
	function get_shop(){
		
	}
	
	// 得到job
	
	// 得到学习内容

	// 数据
	get_download_user();
	//get_relate_item();
	get_comment();
	get_favor();
	
	$('.vote-up').click(function(){
		var url="/Download/vote/t/up/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0){
				alert(ret.info);
				if(ret.url.length >0)
					location.href=ret.url;
			}
			else{
				var s =$('#vote-up-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#vote-up-count').html(count);
			}
		})
		return false;
	});
	$('.vote-down').click(function(){
		var url="/Download/vote/t/down/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0)
				alert(ret.info);
			else{
				var s =$('#vote-down-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#vote-down-count').html(count);
			}
		})
		return false;
	});
	$('.favor-item').click(function(){
		var url="/Favor/add/t/0/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0){
				alert(ret.info);
			}
			else{
				var s =$('#favor-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#favor-count').html(count);
			}
		})
		return false;
	});
	$('.pop-a').click(function(){
		var url=$(this).attr('href');
		$.get(url,function(ret){
			alert(ret.info);
			//location.reload();
		})
		return false;
	});

document.getElementById('readme').innerHTML =marked.parse(document.getElementById('readme').innerHTML);
</script>



</html>