
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>hw1-se-school_2022-code-review-Gerodote 联合开发网 - pudn.com</title>

    <link href="/Public/m/css/bootstrap.min.css" rel="stylesheet">
    <link href="/Public/m/font-awesome/css/font-awesome.css" rel="stylesheet">

    <link href="/Public/m/css/animate.css" rel="stylesheet">
    <link href="/Public/m/css/style.css" rel="stylesheet">

	<link href="/Public/m/css/plugins/slick/slick.css" rel="stylesheet">
	<link href="/Public/m/css/plugins/slick/slick-theme.css" rel="stylesheet">

	

	<link href="/css/style.css" rel="stylesheet">

	<!-- Mainly scripts -->
	<script src="/Public/m/js/jquery-2.1.1.js"></script>
	<script src="/Public/m/js/bootstrap.min.js"></script>

	<script src="/Public/m/js/plugins/metisMenu/jquery.metisMenu.js"></script>
	<script src="/Public/m/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

	<!-- Custom and plugin javascript -->
	<script src="/Public/m/js/inspinia.js"></script>
	<script src="/Public/m/js/plugins/pace/pace.min.js"></script>
	
<META name="Keywords" content="hw1-se-school_2022-code-review-Gerodote python python3 pytest gmail-api fastapi 程序员 编程 源码 源代码 下载">

	
<META name="Description" content="hw1-se-school_2022-code-review-Gerodote Genesis软件工程师课程代码">

</head>

<body>

<!-- /.main-container start -->

<div class="pace  pace-inactive">
  	<div class="pace-progress" data-progress-text="100%" data-progress="99" style="transform: translate3d(100%, 0px, 0px);">
  	<div class="pace-progress-inner"></div>
	</div>
	<div class="pace-activity"></div>
</div>

<div class="all-content">
	<div class="my-container top-navigation">
		<nav class="navbar navbar-static-top" role="navigation">
			<div class="navbar-header">
				<button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
					<i class="fa fa-reorder"></i>
				</button>
				<a href="http://www.pudn.com" class="navbar-brand">联合开发网</a>
			</div>
			<div class="navbar-collapse collapse" id="navbar">
				<ul class="nav navbar-nav">
					<li>
						<a href="/" style="padding-right:8px;padding-left:8px;font-size:16px">首页</a>
					</li>
					<li>
						<a href="https://search.pudn.com" style="padding-right:8px;padding-left:8px;font-size:16px">搜索</a>
					</li>
				</ul>
               	<ul class="nav navbar-top-links navbar-right">
               							<li>
                       	<a href="/User/login.html">
                           	&nbsp; <i class="fa fa-sign-out"></i>登录
                       	</a>
                   	</li>
                   	<li>
                       	<a href="/User/reg.html"><i class="fa fa-sign-out"></i>注册
                       	</a>
                   	</li>
					               	</ul>
			</div>
		</nav>
	</div>
	<form action="https://search.pudn.com/Download" method="get">
	<div class="top-menu-line2">
		<div class="my-container">
			<a href=/Download/upload.html>上传</a>
			&nbsp; <a href=/User>管理</a>
			&nbsp; <a href=https://search.pudn.com/Download>搜索</a>
			&nbsp; <a href=/Guestbook>留言</a>
			<div class="input-group pull-right" style="max-width:200px;margin:3px 15px 0px 0px">
				<input type="text" name="keyword" maxlength=20 placeholder="请输入关键字" class="form-control input-sm">
				<span class="input-group-btn"> <button type="submit" class="btn btn-white input-sm" style="border:1px solid #AAA"><i class="fa fa-search"></i></button>
				</span>
			</div>
		</div>
	</div></form>



<div class="row wrapper white-bg">
	<div class="my-container">
			<div class="nav-dir" style="padding:10px 0px">
				<a href="/">Pudn.com</a>&nbsp;&gt;&nbsp;下载中心
				&nbsp;&gt;&nbsp;自动编程				&nbsp;&gt;&nbsp;<font color=red>hw1-se-school_2022-code-review-Gerodote</font>
			</div>


		<div class="row">
			<div class="col-xs-12 col-md-8">
				<div class="item-name">hw1-se-school_2022-code-review-Gerodote</div>
				<div class="item-keyword">
					<a href="#" class="keyword" keyword="python">python</a>&nbsp;<a href="#" class="keyword" keyword="python3">python3</a>&nbsp;<a href="#" class="keyword" keyword="pytest">pytest</a>&nbsp;<a href="#" class="keyword" keyword="gmail-api">gmail-api</a>&nbsp;<a href="#" class="keyword" keyword="fastapi">fastapi</a>&nbsp;				</div>
				<div class="item-action">
					<div class="btn-group">
						<a href=/Download/dl/id/1687287533742160 target=_blank class="btn btn-primary btn-sm"><i class="fa fa-download"></i> 下载(<span id="down-count">0</span>)</a>
						<a href="###" class="btn btn-white btn-sm vote-up"><i class="fa fa-thumbs-up"></i> 赞(<span id="vote-up-count">1</span>) </a>
						<a href="###" class="btn btn-white btn-sm vote-down"><i class="fa fa-thumbs-down"></i> 踩(<span id="vote-down-count">0</span>) </a>
						<a href="/Download/comment/id/1687287533742160" data-toggle="modal" data-target="#myModal" class="btn btn-white btn-sm"><i class="fa fa-comment"></i> 评论(<span id="comment-count">0</span>) </a>
						<a href="###" class="btn btn-white btn-sm favor-item"><i class="fa fa-heart"></i> 收藏(<span id="favor-count">0</span>) </a>
					</div>
				</div>
				<hr>

				<div class="item-info">
					<B>所属分类</B>：自动编程<BR>
					<B>开发工具</B>：Python<BR>
					<B>文件大小</B>：29KB<BR>
					<B>下载次数</B>：0<BR>
					<B>上传日期</B>：2022-09-26 14:25:03<BR>
					<B>上 传 者</B>：<a href=/User/profile/id/1682139907912860.html>sh-1993</a><BR>
				</div>
				<div class="item-intro">
					说明：&nbsp;&nbsp;Genesis软件工程师课程代码<BR>(code for Genesis software engineer course)				</div>
				<hr>
				<div><B>文件列表</B>: </div>
				<div id="file-list">
				Dockerfile (234, 2022-09-26)<BR>config.<B>yaml</B> (522, 2022-09-26)<BR>default_config.<B>yaml</B> (523, 2022-09-26)<BR>for_course_github_2.<B>code-workspace</B> (274, 2022-09-26)<BR>main.<B>py</B> (1300, 2022-09-26)<BR>requirements.<B>txt</B> (404, 2022-09-26)<BR>src (0, 2022-09-26)<BR>src\__init__.<B>py</B> (0, 2022-09-26)<BR>src\class_main.<B>py</B> (3227, 2022-09-26)<BR>src\email_handling (0, 2022-09-26)<BR>src\email_handling\email_handler.<B>py</B> (1142, 2022-09-26)<BR>src\email_handling\general_part.<B>py</B> (1244, 2022-09-26)<BR>src\email_handling\gmail_API.<B>py</B> (2092, 2022-09-26)<BR>src\email_handling\mail_sender.<B>py</B> (1527, 2022-09-26)<BR>src\email_handling\repos_emails.<B>py</B> (2556, 2022-09-26)<BR>src\price_provider (0, 2022-09-26)<BR>src\price_provider\binance_provider.<B>py</B> (1303, 2022-09-26)<BR>src\price_provider\cache_impl.<B>py</B> (1492, 2022-09-26)<BR>src\price_provider\gemini_provider.<B>py</B> (1483, 2022-09-26)<BR>src\price_provider\general_part.<B>py</B> (1233, 2022-09-26)<BR>src\price_provider\price_storage.<B>py</B> (1463, 2022-09-26)<BR>src\price_provider\websockets (0, 2022-09-26)<BR>src\price_provider\websockets\binance_websockets (0, 2022-09-26)<BR>src\price_provider\websockets\binance_websockets\binance_data_parser.<B>py</B> (1486, 2022-09-26)<BR>src\price_provider\websockets\binance_websockets\binance_stream_receiver.<B>py</B> (570, 2022-09-26)<BR>src\price_provider\websockets\binance_websockets\binance_websocket_starter.<B>py</B> (3223, 2022-09-26)<BR>src\price_provider\websockets\gemini_websockets (0, 2022-09-26)<BR>src\price_provider\websockets\gemini_websockets\gemini_data_parser.<B>py</B> (2787, 2022-09-26)<BR>src\price_provider\websockets\gemini_websockets\gemini_websocket_starter.<B>py</B> (989, 2022-09-26)<BR>src\price_provider\websockets\general_part.<B>py</B> (1299, 2022-09-26)<BR>src\price_provider\websockets\general_websocket_starter.<B>py</B> (3409, 2022-09-26)<BR>src\price_provider\websockets\how_to_use_it.<B>py</B> (811, 2022-09-26)<BR>src\price_provider\websockets\streams_receiver.<B>py</B> (3008, 2022-09-26)<BR>tests (0, 2022-09-26)<BR>tests\__init__.<B>py</B> (0, 2022-09-26)<BR>... ...<BR>				</div>
				<hr>
				<div id="readme">
				# for_course

## What this do?

The program do next stuff:

1. Loading config.yaml as config file.
2. Connects to binance websockets using binance-connector python library, it gets best ask price and best bid price for 'BTC/UAH', gets arithmetic average.
3. Creates a server API at port 8000 which can do what's written [here](https://github.com/AndriiPopovych/gses/blob/main/gses2swagger.yaml)
      1. it can send rate, mentioned above
      2. send to emails this rate using Gmail API
      3. add emails, to which it should be sent.

## How to run this?

1. Install python3 , desirable versions are 3.10.x or 3.9.x . Depending on your system:

      1. Windows, find [installer](https://www.python.org/downloads/windows/) or install [`scoop`](https://scoop.sh/), then `scoop install python` .
      2. Linux, check is it exist in repositories of your distributive
      3. MacOs, idk google it. Maybe in [brew](https://formulae.brew.sh/formula/python@3.9) ?
      4. Android? [Termux](https://github.com/termux/termux-app/releases) is your best friend.
2. `git clone https://github.com/Gerodote/for_course.git` . If you haven't, install git. Again, in which way to do so depends on what's your system is
3. `python -mpip install --upgrade pip` . Depending on your system, the beginning of the command can be `python3`
4. `pip install -r requirements.txt` or try `pip install aiofiles binance-connector fastapi uvicorn google-auth-httplib2 google-auth-oauthlib google-api-python-client python-multipart pyyaml websocket-client pydantic pydantic[email]`. If your CPU has ARM architecture, strongly recommend type `pip install wheel` before this command. Especially, if you run in [termux](https://github.com/termux/termux-app/releases)
5. Setup gmail account as in guide below.
6. Run HTTP API server: `uvicorn main:API --host 0.0.0.0 --port 80`
7. Check how it works with localhost:80/docs

## Is docker available?

**Quick answer**: *No*

**Long answer**: python environment using dockerfile is appropriate, though idk how to allow gmail service server, which should work at 8080, get connection from outside to this.
If you want, try:

1. `git clone https://github.com/Gerodote/for_course.git`
2. Go to folder in which this project `cd ./for_course`
3. Get `client_secret.json` from guide below and copy it to the project folder.
4. Build image: `docker build -t for_cousre_docker_image .`
5. Try this... :`docker run -it -v /project/folder/on/your/computer:/app/src -p 8000:8000 -p 8080:8080 -p 443:443 -p 80:80 -p 5353:5353 --name my-api for_cousre_docker_image`
6. Try get gmail token as in guide below (step 10 like)
7. ***
8. The app inside docker didn't get the token.

If you know how to resolv it, I would be pleased if you could submit an issue about this and explain how to deal with it.

## How to setup a gmail account to send emails?

### Main idea

  1. Get OAuth2 key ( aka client_secret.json ) from Google Cloud Console
  2. Initialize gmail service by running either `uvicorn main:API`, or `python mail_handler.py` for getting appropriate token with appropriate permissions for using the gmail.
  3. If you don't delete the `token_gmail_v1.pickle`, you can run this app again without asking giving permission for sending emails from email you chose (in guide below it's step 10). (at least during one hour)

### Let's start

1. Create a Google account. For instance, you could do this [here](https://accounts.google.com/signup/v2/webcreateaccount). In this guide, I had to setup dejfwy@gmail.com.
2. Go to [console.cloud.google.com](https://console.cloud.google.com/)
3. Create a project:

![image](https://user-images.githubusercontent.com/58738099/181842338-c9328c53-d950-46d9-b5bc-dbabb8a01300.png)
![image](https://user-images.githubusercontent.com/58738099/181842652-04f0a47c-bfeb-4f2c-a2be-44b9f04671dc.png)
4. Create an OAuth app:

![image](https://user-images.githubusercontent.com/58738099/181843113-2f532ad3-6e96-4501-a628-8b2206856860.png)
![image](https://user-images.githubusercontent.com/58738099/181843160-2524ec35-a8fb-4789-85e8-81a3575400c6.png)
![image](https://user-images.githubusercontent.com/58738099/181843324-48c45d06-4747-46da-9ec2-fad4212c0815.png)
![image](https://user-images.githubusercontent.com/58738099/181843463-84b835dd-42fc-4e0c-802b-6ce5bd50617f.png)
![image](https://user-images.githubusercontent.com/58738099/181843691-b7895133-a2d2-4ec7-af2f-c129aeb9bf77.png)
![image](https://user-images.githubusercontent.com/58738099/181843873-868dc1a9-54eb-470a-b471-c1acfa9cc778.png)
![image](https://user-images.githubusercontent.com/58738099/181843927-fa6a4c9d-94fc-493d-9a65-a016c39a3146.png)
![image](https://user-images.githubusercontent.com/58738099/181843990-752c529d-ed21-4deb-a55e-dba85d8bc***6.png)
5. Enable Gmail API:

![image](https://user-images.githubusercontent.com/58738099/181844070-992d1cdf-d517-4e1b-a067-bc7fbb6e1966.png)
![image](https://user-images.githubusercontent.com/58738099/181844178-a2f5a9ee-b4cf-4da3-8938-fc4c85bb2841.png)
![image](https://user-images.githubusercontent.com/58738099/181844222-df4c7a1f-3616-4dfa-bc0f-14384f4ec8c3.png)
6. Add appropriate scope (aka permissions) for your OAuth app:

![image](https://user-images.githubusercontent.com/58738099/181844402-0c9272c1-8110-49ca-87bd-181ac5831c17.png)
![image](https://user-images.githubusercontent.com/58738099/181844461-76a3b2bd-c142-4fab-b849-5e22855f7584.png)
![image](https://user-images.githubusercontent.com/58738099/181844501-7f50406b-0b18-4623-a5fc-ff72c4fad973.png)
![image](https://user-images.githubusercontent.com/58738099/181844723-bbf62ebe-e782-471d-af82-5b61d***d3548.png)
![image](https://user-images.githubusercontent.com/58738099/181844902-e5cfe7a1-5dda-4dc8-a6ca-22db7c3df040.png)
![image](https://user-images.githubusercontent.com/58738099/181844926-1c9782d0-54f0-4***2-9aed-e43ec421b4dd.png)
![image](https://user-images.githubusercontent.com/58738099/181844979-27bd2a77-08c2-4cbf-b050-9ffddcd7***6c.png)
![image](https://user-images.githubusercontent.com/58738099/181845025-ec25439a-ce6d-4912-bb2f-fa7d8c5145b2.png)
7. Create OAuth2 credentials for getting client_secret.json

![image](https://user-images.githubusercontent.com/58738099/181845230-9efb5050-c741-4a7f-aa3c-a3582483738f.png)
![image](https://user-images.githubusercontent.com/58738099/181845258-5b19e09b-513b-4a36-889b-0b8715202470.png)
![image](https://user-images.githubusercontent.com/58738099/181845460-c12fc348-7e05-40b2-8cef-349cbbfc7be8.png)
![image](https://user-images.githubusercontent.com/58738099/181845490-7da61ed7-9dd2-4808-ad2b-443a58489793.png)
8. Copy the file you got to the project folder and rename it to "client_secret.json".
9. Launch mail_handler.py or just run server: `python ./mail_handler.py` or `uvicorn main:API`
10. Either automatically your browser shall be opened, or open the link you shall get in console. Then allow it to work:

![image](https://user-images.githubusercontent.com/58738099/181846595-e376d429-***94-47f1-b039-1771a6d6ff7b.png)
![image](https://user-images.githubusercontent.com/58738099/181846631-1ba***51f-5f36-419f-921a-951***db00e42.png)
![image](https://user-images.githubusercontent.com/58738099/181846696-94044428-1153-412b-8843-5b325539b41c.png)
![image](https://user-images.githubusercontent.com/58738099/181846738-d6***b6e9-d340-4e86-8a18-ed1f793a0aa1.png)
![image](https://user-images.githubusercontent.com/58738099/181846850-5e49c811-62e0-4796-9271-d351f2a68ccf.png)
11. If you need, try to re-run `mail_handler.py` or server.
				</div>
				<hr>
				<div><B>近期下载者</B>：</div>
				<div id="download-users"></div>
				<hr>
				<div><B>相关文件</B>：</div>
				<div id="relate-items"></div>
				<hr>
				<div><B>评论</B>：[<a href=/Download/comment/id/1687287533742160.html data-toggle=modal data-target="#myModal">我要评论</a>]&nbsp;[<a class='pop-a' href=/Download/report/id/1687287533742160.html>举报此文件</a>]</div>
				<div id="file-comments"></div>
				<hr>
				<div><B>收藏者</B>：</div>
				<div id="favor-users"></div>
				<p></p>
			</div>

			<div class="col-xs-12 col-md-4">

				<div class="ad-sidebar text-center">
					<div class="ad-300">
					</div>
				</div>
			</div>
		</div>

	</div>
</div>



	<div class="my-footer">
		<div class="container">
		<div class="pull-right">
		</div>

		<div>
			
			<a href="http://www.pudn.com" target=_blank>© 联合开发网 from 2004</a> | 
			<a href="/Index/contact.html">联系站长</a> | 
			<a href=" https://beian.miit.gov.cn" target=_blank>湘ICP备2023001425号</a> | 
			<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=43010502000604" target=_blank>网安备43010502000604</a> | 
		</div>
		</div>
	</div>


</div><!-- /wrapper-->




<!-- page specific plugin scripts -->

<!-- inline scripts related to this page -->

<div id="myModal" class="modal fade" tabindex="-1" 
			role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			
		</div>
	</div>
</div><!-- /.modal-table -->

</body>

<script type="text/javascript">
$(document).on('click', '.list-more', function(){
	var id=$(this).attr('data-id');
	$('#list-'+id).css('max-height',$('#list-'+id)[0].scrollHeight);
	$(this).removeClass('list-more');
	$(this).addClass('list-hide');
	$(this).html('<i class="fa fa-angle-double-up"></i>');
	
	//$(this).hide();

	return false;
});

$(document).on('click', '.list-hide', function(){
	var id=$(this).attr('data-id');
	$('#list-'+id).css('max-height','100px');
	$(this).removeClass('list-hide');
	$(this).addClass('list-more');
	$(this).html('<i class="fa fa-angle-double-down"></i>');
	
	return false;
});

$("#myModal").on("hidden.bs.modal", function() {
    $(this).removeData();
});

$(document).on("click",".keyword",function(){
	var keyword=$(this).attr("keyword");
	var type_id=$(this).attr("type_id");
	if(typeof(type_id) =="undefined" || type_id =="") type_id="0";
	location.href="http://search.pudn.com/Download/index?keyword="+keyword;
	
	return false;
});
</script>
<script type="text/javascript" src="/js/time.js"></script>


<script type="text/javascript" src="/js/marked.min.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		$('.hide-list').each(function(){
			if ($(this)[0].offsetHeight < $(this)[0].scrollHeight){
				var id=$(this).attr('id');
				id =id.substring(5);
				$(this).after('<div style="text-align:center"><a href="" class="list-more" data-id="' + id + '"><i class="fa fa-angle-double-down"></i></a></div>');
			}
		});
	});
	var g_id="1687287533742160";
	var keywords =new Array();
	keywords[0] ='python';keywords[1] ='python3';keywords[2] ='pytest';keywords[3] ='gmail-api';keywords[4] ='fastapi';	function get_download_user(){
		var url ="/Download/get_download_user/id/"+g_id+".html";
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			for(i in ret){
				html =html + '<a href=/User/profile/id/'+ret[i].user_new_id+'.html>'+ret[i].name+'</a> ';
			}
			$('#download-users').append(html);
		});
	}
	
	function get_relate_item(){
		var url ="/Download/get_relate_item/id/"+g_id+'.html';
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			var intro;
			for(i in ret){
				intro =ret[i].intro;
				for(j in keywords){
					var reg =new RegExp(keywords[j],'gmi');
					intro =intro.replace(reg,'<font color=brown>'+keywords[j]+'</font>');
				}
				html =html + '[<a href=/Download/item/id/'+ret[i].new_id+'.html>'+ret[i].name+'</a>]&nbsp; '+intro+'<BR>';
			}
			$('#relate-items').append(html);
		});
		
	}
	function get_score_name(score){
		switch(score){
		case '100': return '很好，推荐下载';
		case '85': return '还不错';
		case '75': return '一般，勉强可用';
		case '50': return '差';
		case '3': return '纯粹是垃圾';
		case '40': return '和说明完全不符';
		case '20': return '文件不全';
		case '10': return '不是源代码或资料';
		case '5': return '文件有密码，不知道密码';
		case '0': return '不能解压或下载失败';
		}
		return '';
	}
	function get_comment(){
		var url ="/Download/get_comments/id/"+g_id+'.html';
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var total_count =ret.total_count;
			var data =ret.data;
			var html='';
			for(i in data){
				html =html + '<a href="/User/profile/id/'+data[i].user_new_id+'.html" class="uploader">'+data[i].user_name+'</a>: <span class="comment-score">'+get_score_name(data[i].score)+'</span>, '+data[i].content+'<BR>';
			}
			$('#file-comments').append(html);
		});
		
	}
	function get_favor(){
		var url ="/Download/get_item_favors/id/"+g_id+".html";
		$.get(url,function(ret){
			if(ret.length ==0) return;
			var html='';
			for(i in ret){
				html =html + '<a href=/User/profile/id/'+ret[i].user_new_id+'.html class=user>'+ret[i].name+'</a>&nbsp;';
			}
			$('#favor-users').html(html);
		});
	}
	// 得到下载这个的用户又下载了什么
	function get_more_download(){
		
	}
	// 得到下载这个的用户又搜索了什么
	function get_more_keyword(){
		
	}
	
	// 得到论坛相关问题
	function get_bbs(){
		
	}
	
	// 得到软件工场相关内容
	function get_works(){
		
	}
	
	// 得到相关聊天室
	function get_chat(){
		
	}
	
	// 得到相关软件商城信息
	function get_shop(){
		
	}
	
	// 得到job
	
	// 得到学习内容

	// 数据
	get_download_user();
	//get_relate_item();
	get_comment();
	get_favor();
	
	$('.vote-up').click(function(){
		var url="/Download/vote/t/up/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0){
				alert(ret.info);
				if(ret.url.length >0)
					location.href=ret.url;
			}
			else{
				var s =$('#vote-up-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#vote-up-count').html(count);
			}
		})
		return false;
	});
	$('.vote-down').click(function(){
		var url="/Download/vote/t/down/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0)
				alert(ret.info);
			else{
				var s =$('#vote-down-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#vote-down-count').html(count);
			}
		})
		return false;
	});
	$('.favor-item').click(function(){
		var url="/Favor/add/t/0/id/"+g_id;
		$.get(url,function(ret){
			if(ret.status==0){
				alert(ret.info);
			}
			else{
				var s =$('#favor-count').html();
				if(s =='') s="0";
				var count =parseInt(s)+1;
				$('#favor-count').html(count);
			}
		})
		return false;
	});
	$('.pop-a').click(function(){
		var url=$(this).attr('href');
		$.get(url,function(ret){
			alert(ret.info);
			//location.reload();
		})
		return false;
	});

document.getElementById('readme').innerHTML =marked.parse(document.getElementById('readme').innerHTML);
</script>



</html>